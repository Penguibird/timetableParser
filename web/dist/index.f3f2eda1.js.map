{"mappings":"AAAA,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,CAAM;AAC1C,KAAK,CAAC,CAAC,GAAG,QAAQ,CAAC,cAAc,CAAC,CAAgB;AAClD,KAAK,CAAC,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,CAAsB;AAC9D,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,CAAc;AAEpD,KAAK,CAAC,WAAW,GAAG,EAAE;AAEtB,GAAG,CAAC,mBAAmB,IAAI,GAAW,WAAa,IAAI,CAAC,GAAG;;AAE3D,KAAK,CAAC,eAAe,IAAI,IAAY,GAAK,CAAC;IACvC,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,CAAO;IAC7B,KAAK,CAAC,SAAS,GAAG,IAAI;AAC1B,CAAC;AAED,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAY,eAAI,CAAgE,kEAAG,CAAqE;AACtM,IAAI,CAAC,gBAAgB,CAAC,CAAQ,UAAG,KAAY,GAAK,CAAC;IAC/C,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,CAAM;IAE5B,EAAuB,AAAvB,qBAAuB;IACvB,KAAK,CAAC,cAAc;IAEpB,KAAK,CAAC,SAAS,GAAI,QAAQ,CAAC,cAAc,CAAC,CAAW,YAAuB,KAAK;IAClF,EAAE,GAAG,mBAAmB,CAAC,SAAS,GAAG,CAAC;QAClC,OAAO,CAAC,GAAG,CAAC,SAAS;QACrB,eAAe,CAAC,CAAqB;QACrC,MAAM;IACV,CAAC;IAED,KAAK,CAAC,UAAU,GAAI,QAAQ,CAAC,cAAc,CAAC,CAAY,aAAuB,KAAK;IACpF,EAAE,EAAE,QAAQ,CAAC,UAAU,IAAI,CAAC,EAAE,CAAC;QAC3B,eAAe,CAAC,CAA0E;QAC1F,MAAM;IACV,CAAC;IACD,KAAK,CAAC,SAAS,GAAI,QAAQ,CAAC,cAAc,CAAC,CAAW,YAAuB,KAAK;IAClF,EAAE,EAAE,QAAQ,CAAC,SAAS,IAAI,CAAC,EAAE,CAAC;QAC1B,eAAe,CAAC,CAAkE;QAClF,MAAM;IACV,CAAC;IACD,KAAK,CAAC,SAAS,GAAI,QAAQ,CAAC,cAAc,CAAC,CAAW,YAAuB,KAAK;IAClF,EAAE,EAAE,QAAQ,CAAC,SAAS,IAAI,CAAC,EAAE,CAAC;QAC1B,eAAe,CAAC,CAA+D;QAC/E,MAAM;IACV,CAAC;IACD,KAAK,CAAC,OAAO,GAAG,QAAQ,CAAC,SAAS,IAAI,QAAQ,CAAC,SAAS;IAExD,KAAK,CAAC,GAAG,MAAM,OAAO,CAAC,WAAW,EAAE,SAAS,CAAC,eAAe,EAAE,UAAU,CAAC,WAAW,EAAE,SAAS,CAAC,SAAS,EAAE,OAAO;IACnH,OAAO,CAAC,GAAG,CAAC,GAAG;IACf,CAAC,CAAC,IAAI,GAAG,GAAG;IACZ,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,CAAM;AAElC,CAAC","sources":["src/script.ts"],"sourcesContent":["const form = document.querySelector('form') as HTMLFormElement;\r\nconst a = document.getElementById(\"downloadAnchor\") as HTMLAnchorElement;\r\nconst aParent = document.getElementById(\"downloadAnchorParent\") as HTMLAnchorElement;\r\nconst error = document.getElementById(\"errorMessage\")\r\n\r\nconst currentWeek = 38;\r\n\r\nlet isStringJustNumbers = (val: string) => /^\\d+$/.test(val);\r\n\r\nconst setErrorMessage = (text: string) => {\r\n    error.style.display = 'block'\r\n    error.innerText = text;\r\n}\r\n\r\nconst baseUrl = window.location.href.includes('localhost:') ? \"http://localhost:5001/timetable-parser/us-central1/getCalendar\" : \"https://us-central1-timetable-parser.cloudfunctions.net/getCalendar\";\r\nform.addEventListener('submit', (event: Event) => {\r\n    error.style.display = 'none'\r\n\r\n    // stop form submission\r\n    event.preventDefault();\r\n\r\n    const studentID = (document.getElementById(\"studentID\") as HTMLInputElement).value\r\n    if (!isStringJustNumbers(studentID)) {\r\n        console.log(studentID)\r\n        setErrorMessage(\"Invalid Student ID.\");\r\n        return\r\n    }\r\n\r\n    const calendarID = (document.getElementById(\"calendarID\") as HTMLInputElement).value\r\n    if (parseInt(calendarID) < 0) {\r\n        setErrorMessage(\"Invalid Timetable ID. If you don't know what to put there, keep it at 1.\");\r\n        return\r\n    }\r\n    const startWeek = (document.getElementById(\"startWeek\") as HTMLInputElement).value\r\n    if (parseInt(startWeek) < 0) {\r\n        setErrorMessage(\"Invalid Starting week input. The start of semester 1 is week 38.\");\r\n        return\r\n    }\r\n    const weekCount = (document.getElementById(\"weekCount\") as HTMLInputElement).value\r\n    if (parseInt(weekCount) < 0) {\r\n        setErrorMessage(\"The amount of weeks in your calendar can't be smaller than 1.\");\r\n        return\r\n    }\r\n    const endWeek = parseInt(startWeek) + parseInt(weekCount);\r\n\r\n    const url = `${baseUrl}?studentId=${studentID}&timetableCode=${calendarID}&startWeek=${startWeek}&endWeek=${endWeek}`;\r\n    console.log(url)\r\n    a.href = url;\r\n    aParent.style.display = 'flex';\r\n\r\n});"],"names":[],"version":3,"file":"index.f3f2eda1.js.map","sourceRoot":"/__parcel_source_root/"}